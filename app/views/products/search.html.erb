<h1>Search Products</h1>

<%= form_with url: search_products_path, method: :get, local: true do %>
  <div>
    <%= label_tag :query, "Search by keyword:" %>
    <%= text_field_tag :query, params[:query], placeholder: "Enter keyword" %>
  </div>

  <div>
    <%= label_tag :category_id, "Filter by category:" %>
    <%= select_tag :category_id, options_from_collection_for_select(@categories, :id, :name, params[:category_id]), include_blank: "All Categories" %>
  </div>

  <%= submit_tag "Search", class: "btn btn-primary" %>
<% end %>

<h2>Search Results</h2>

<%= render @products %>

<div>
  <%= paginate @products %>
</div>
